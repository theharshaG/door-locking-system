/*
  Project: Password Based Door Lock System
  Board  : ESP32
  Device : Servo Motor

  Description:
  - User enters a password through Serial Monitor
  - If password is correct → door opens
  - If password is wrong → door remains closed
*/

#include <ESP32Servo.h>

// Servo pin
int servoPin = 18;

// Create servo object
Servo doorServo;

// Set password
String password = "1234";

void setup() {
  Serial.begin(115200);
  Serial.println(" Password Based Door Lock System");

  // Attach servo
  doorServo.attach(servoPin);

  // Door starts closed
  doorServo.write(0);
}

void loop() {
  Serial.println("\nEnter the password:");

  // Wait until user enters data
  while (!Serial.available());

  // Read password
  String userPass = Serial.readStringUntil('\n');
  userPass.trim();   // Remove extra spaces

  // Check password
  if (userPass == password) {
    Serial.println(" Access Granted - Door Opened");
    doorServo.write(90);   // Open door
  } else {
    Serial.println(" Access Denied - Door Closed");
    doorServo.write(0);    // Close door
  }

  delay(1000);
}